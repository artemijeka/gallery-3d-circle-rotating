<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Вращающиеся изображения 3d галерея | Rotating images 3d gallery</title>
  <link rel="stylesheet" href="./style.min.css">
</head>

<body>



  <main>

    <section>



      <div class="rotating-3d">
        <span class="rotating-3d__item" style="--i:1"><img src="./img/img-1.jpg" alt="img-1"
            class="rotating-3d__img"></span>
        <span class="rotating-3d__item" style="--i:2"><img src="./img/img-2.jpg" alt="img-2"
            class="rotating-3d__img"></span>
        <span class="rotating-3d__item" style="--i:3"><img src="./img/img-3.jpg" alt="img-3"
            class="rotating-3d__img"></span>
        <span class="rotating-3d__item" style="--i:4"><img src="./img/img-4.jpg" alt="img-4"
            class="rotating-3d__img"></span>
        <span class="rotating-3d__item" style="--i:5"><img src="./img/img-5.jpg" alt="img-5"
            class="rotating-3d__img"></span>
        <span class="rotating-3d__item" style="--i:6"><img src="./img/img-6.jpg" alt="img-6"
            class="rotating-3d__img"></span>
        <span class="rotating-3d__item" style="--i:7"><img src="./img/img-7.jpg" alt="img-7"
            class="rotating-3d__img"></span>
        <span class="rotating-3d__item" style="--i:8"><img src="./img/img-8.jpg" alt="img-8"
            class="rotating-3d__img"></span>
      </div>



    </section>

  </main>

  <script>
    var rotating3d = document.querySelector('.rotating-3d');

    var currentPositionDeg = 0;
    var x = 0;
    var oldX = 0;

    rotating3d.addEventListener("mousedown", function (e) {
      rotating3d.onmousemove = function (e) {
        mouseMoveFunction(e, 'move');
      }
    });

    document.addEventListener("mouseup", function (e) {
      rotating3d.onmousemove = function (e) {
        mouseMoveFunction(e, 'stop');
      }
    });

    function mouseMoveFunction(e, moveOrStop) {
      // console.log('-----------------');
      if (moveOrStop === 'stop') {
        // console.log('stop');
      } else if (moveOrStop === 'move') {
        x = e.clientX / 800;
        // console.log('e.clientX ' + e.clientX);
        if (oldX < e.clientX) {
          // console.log('direction x -');
          currentPositionDeg += x;
        } else if (oldX > e.clientX) {
          // console.log('direction x +');
          currentPositionDeg -= x;
        }
        // console.log('currentPositionDeg ' + parseInt(currentPositionDeg, 0));
        rotating3d.style.transform = 'perspective(1000px) rotateY(' + currentPositionDeg + 'deg)';
        oldX = e.pageX;
      }
    }
  </script>


</body>

</html>